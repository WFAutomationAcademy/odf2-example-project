<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<!--
    This file contains Liquibase migrations for the 'odf2-multiprocess' data model.
    Manual changes to the file may cause instability and unpredictable behavior.
    The file is intended to be updated exclusively by the 'Bundle Maven plugin'.
    It is strongly advised to follow the designated automated process using this plugin for any modifications.
-->
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">

    <changeSet author="odf2-multiprocess" id="odf2_example_project_v10_2_7_71b50ba8_8696_4b87_97ae_b5e573f0c4ff_0001" objectQuotingStrategy="LEGACY">
        <preConditions onFail="MARK_RAN">
            <not>
                <tableExists tableName="ds_uc_odf2_example_project_exception_v10_2_7"/>
            </not>
        </preConditions>
        <createTable tableName="uc_odf2_example_project_exception_v10_2_7">
            <column defaultValueComputed="NEWID()" name="uuid" type="NVARCHAR(36)">
                <constraints nullable="false" unique="true"/>
            </column>
            <column name="transaction_uuid" type="NVARCHAR(36)">
                <constraints foreignKeyName="fk_uc_odf2_example_project_exception_v10_2_7_uc_odf2_example_project_transaction_v10_2_7" nullable="false" referencedColumnNames="uuid"
                             referencedTableName="uc_odf2_example_project_transaction_v10_2_7"/>
            </column>
            <column name="root_transaction_uuid" type="NVARCHAR(36)"/>
            <column name="short_description" type="NVARCHAR(max)"/>
            <column name="full_description" type="NVARCHAR(max)"/>
            <column name="type" type="NVARCHAR(36)"/>
            <column name="error_code" type="INT"/>
            <column name="time_occurred" type="datetime2"/>
            <column name="time_closed" type="datetime2  "/>
            <column name="bp_uuid" type="NVARCHAR(36)"/>
            <column name="bp_step_uuid" type="NVARCHAR(36)"/>
            <column name="severity" type="NVARCHAR(36)"/>
            <column name="screenshot_link" type="NVARCHAR(max)"/>
            <column name="business_entity_uuid" type="NVARCHAR(36)"/>
            <column name="status" type="NVARCHAR(36)"/>
        </createTable>
    </changeSet>
</databaseChangeLog>
